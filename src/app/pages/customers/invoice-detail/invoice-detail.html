<div class="invoice-detail-page">
  <!-- <h2 class="page-title">Invoice Details</h2> -->

  <app-loader [visible]="loading"></app-loader>

  <ng-container *ngIf="!loading && invoice">
    <!-- Summary Card -->
    <div class="summary-card">
      <div class="summary-header">
        <div class="summary-item">
          <p class="label">INVOICE NUMBER</p>
          <p class="value invoice-number">{{ invoice.invoiceNumber || '--' }}</p>
        </div>

        <div class="summary-item">
          <p class="label">STATUS</p>
          <span class="status-badge" [ngClass]="getStatusClass()">
            {{ getStatusText() }}
          </span>
        </div>
      </div>

      <div class="summary-grid">
        <div class="summary-item">
          <p class="label">INVOICE DATE</p>
          <p class="value">{{ formatDate(invoice.invoiceDate) }}</p>
        </div>

        <div class="summary-item">
          <p class="label">DUE DATE</p>
          <p class="value">{{ formatDate(invoice.dueDate) }}</p>
        </div>

        <div class="summary-item">
          <p class="label">TOTAL AMOUNT</p>
          <p class="value amount">{{ invoice.totalAmount | currency }}</p>
        </div>

        <div class="summary-item">
          <p class="label">BALANCE DUE</p>
          <p class="value amount">{{ invoice.balanceDue | currency }}</p>
        </div>
      </div>
    </div>

    <!-- Details Card -->
    <div class="details-card">
      <h3 class="card-title">Details</h3>
      <div class="card-content">
        <div class="detail-row">
          <span class="detail-label">Notes</span>
          <span class="detail-value">{{ invoice.note || '--' }}</span>
        </div>
      </div>
    </div>

    <!-- Items Card -->
    <div class="items-card" *ngIf="invoice && invoice.items && invoice.items.length">
      <h3 class="card-title">Items</h3>

      <div class="table-wrapper">
        <table class="items-table">
          <thead>
            <tr>
              <th>ITEM</th>
              <th>DESCRIPTION</th>
              <th>QTY</th>
              <th>RATE</th>
              <th>TAX</th>
              <th>TOTAL</th>
            </tr>
          </thead>

          <tbody>
            <tr *ngFor="let item of invoice.items">
              <td>{{ item.itemName || '--' }}</td>
              <td>{{ item.description || '--' }}</td>
              <td>{{ item.quantity }}</td>
              <td>{{ item.rate | currency }}</td>
              <td>{{ item.taxAmount | currency }}</td>
              <td>
                <strong>{{ item.total | currency }}</strong>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Empty Items State -->
    <div class="items-card" *ngIf="invoice && (!invoice.items || invoice.items.length === 0)">
      <h3 class="card-title">Items</h3>
      <div class="empty-state">
        <p>No items found for this invoice.</p>
      </div>
    </div>
  </ng-container>

  <!-- Empty Invoice State -->
  <div class="empty-state-container" *ngIf="!loading && !invoice">
    <p>Invoice not found.</p>
  </div>
</div>
